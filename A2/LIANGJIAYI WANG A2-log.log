----------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\WLJY8\Desktop\资料\ECO 375\A2\A2-log.log
  log type:  text
 opened on:  17 Nov 2019, 16:06:48

. do "C:\Users\WLJY8\Desktop\资料\ECO 375\A2\A2.do"

. /*Q2-1*/
. 
. use "C:\Users\WLJY8\Desktop\资料\ECO 375\A2\ANES2016.dta"

. summarize

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      loginc |      3,987    10.75608    1.161975   7.824046   13.12236
      income |      3,987    80391.02    93444.46       2500     500000
      female |      4,112    .5289397    .4992225          0          1
       black |      4,112    .0953307    .2937069          0          1
    hispanic |      4,112    .1050584    .3066659          0          1
-------------+---------------------------------------------------------
      region |          0
         age |      4,112    49.53696    17.56447         18         90
       agesq |      4,112    2762.346    1797.535        324       8100
       educ0 |      4,112    .0729572    .2600979          0          1
       educ1 |      4,112    .1935798    .3951514          0          1
-------------+---------------------------------------------------------
       educ2 |      4,112    .3528696    .4779207          0          1
       educ3 |      4,112     .223249    .4164746          0          1
       educ4 |      4,112    .1573444    .3641694          0          1
       south |      4,112    .3421693    .4744936          0          1
     retired |      4,112    .2047665      .40358          0          1
-------------+---------------------------------------------------------
   trumpvote |      4,112    .2923152    .4548817          0          1
 clintonvote |      4,112    .3205253    .4667353          0          1
       gopid |      4,112    .4058852    .4911223          0          1
       demid |      4,112    .4562257    .4981407          0          1
    employed |      4,112    .6142996    .4868195          0          1
-------------+---------------------------------------------------------
     married |      4,112     .572714    .4947446          0          1
attendschu~h |      4,112    .5851167    .4927618          0          1
  familysize |      4,112    1.614786    1.442806          0          5
       union |      4,112    .1361868    .3430285          0          1
      parent |      4,112    .3368191    .4726799          0          1

. /* a.*/
. reg loginc female black age agesq educ1 educ2 educ3 educ4

      Source |       SS           df       MS      Number of obs   =     3,987
-------------+----------------------------------   F(8, 3978)      =    123.70
       Model |  1072.10954         8  134.013693   Prob > F        =    0.0000
    Residual |  4309.72891     3,978  1.08339088   R-squared       =    0.1992
-------------+----------------------------------   Adj R-squared   =    0.1976
       Total |  5381.83845     3,986  1.35018526   Root MSE        =    1.0409

------------------------------------------------------------------------------
      loginc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      female |  -.2672268   .0331098    -8.07   0.000    -.3321407    -.202313
       black |   -.552836   .0565014    -9.78   0.000    -.6636105   -.4420616
         age |   .0490182   .0053594     9.15   0.000     .0385108    .0595256
       agesq |  -.0004872   .0000526    -9.27   0.000    -.0005902   -.0003841
       educ1 |   .4489675   .0721566     6.22   0.000        .3075    .5904349
       educ2 |    .705606    .067872    10.40   0.000     .5725387    .8386732
       educ3 |   1.126566   .0713241    15.80   0.000     .9867309    1.266401
       educ4 |   1.503135   .0749474    20.06   0.000     1.356196    1.650074
       _cons |   9.044574   .1379751    65.55   0.000     8.774066    9.315083
------------------------------------------------------------------------------

. 
. /* b.*/
. reg loginc female black age agesq educ0 educ2 educ3 educ4

      Source |       SS           df       MS      Number of obs   =     3,987
-------------+----------------------------------   F(8, 3978)      =    123.70
       Model |  1072.10954         8  134.013693   Prob > F        =    0.0000
    Residual |  4309.72891     3,978  1.08339088   R-squared       =    0.1992
-------------+----------------------------------   Adj R-squared   =    0.1976
       Total |  5381.83845     3,986  1.35018526   Root MSE        =    1.0409

------------------------------------------------------------------------------
      loginc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      female |  -.2672268   .0331098    -8.07   0.000    -.3321407    -.202313
       black |   -.552836   .0565014    -9.78   0.000    -.6636105   -.4420616
         age |   .0490182   .0053594     9.15   0.000     .0385108    .0595256
       agesq |  -.0004872   .0000526    -9.27   0.000    -.0005902   -.0003841
       educ0 |  -.4489675   .0721566    -6.22   0.000    -.5904349      -.3075
       educ2 |   .2566385   .0466763     5.50   0.000     .1651269    .3481502
       educ3 |   .6775986   .0514378    13.17   0.000     .5767517    .7784455
       educ4 |   1.054167   .0565341    18.65   0.000     .9433288    1.165006
       _cons |   9.493542   .1289343    73.63   0.000     9.240758    9.746325
------------------------------------------------------------------------------

. 
. /* c.*/
. test (age == 0) (agesq ==0)

 ( 1)  age = 0
 ( 2)  agesq = 0

       F(  2,  3978) =   42.98
            Prob > F =    0.0000

. 
. 
. /*Q2-2*/
. 
. use "C:\Users\WLJY8\Desktop\资料\ECO 375\A2\PWT_data.dta"

. summarize

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     country |          0
     gdp1975 |        104    201865.1      608772   1121.408    5560894
     pop1975 |        104    33.78318    110.4599     .21807   920.9451
     hci1975 |        104    1.766838    .6250127   1.010804   3.251706
     gcf1975 |        104    .2344983    .1178084   .0389379   .5730211
-------------+---------------------------------------------------------
     gdp1995 |        104    409457.8     1201337   2732.571   1.04e+07
     pop1995 |        104    48.14494    155.2344    .264959    1239.94

. 
. /* a.*/
. gen y1995 = gdp1995/pop1995

. gen y1975 = gdp1975/pop1975

. gen result1 = log(y1995/y1975)

. gen loggdp1975percapita=log(gdp1975/pop1975)

. reg result loggdp1975percapita

      Source |       SS           df       MS      Number of obs   =       104
-------------+----------------------------------   F(1, 102)       =      1.80
       Model |  .670515709         1  .670515709   Prob > F        =    0.1829
    Residual |  38.0298019       102  .372841195   R-squared       =    0.0173
-------------+----------------------------------   Adj R-squared   =    0.0077
       Total |  38.7003176       103  .375731239   Root MSE        =    .61061

-------------------------------------------------------------------------------------
            result1 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
loggdp1975percapita |   .0791044   .0589873     1.34   0.183    -.0378965    .1961054
              _cons |  -.4265494   .4997609    -0.85   0.395    -1.417823    .5647239
-------------------------------------------------------------------------------------

. 
. /* b.*/
. reg result loggdp1975percapita hci1975

      Source |       SS           df       MS      Number of obs   =       104
-------------+----------------------------------   F(2, 101)       =     11.56
       Model |  7.20626904         2  3.60313452   Prob > F        =    0.0000
    Residual |  31.4940485       101  .311822263   R-squared       =    0.1862
-------------+----------------------------------   Adj R-squared   =    0.1701
       Total |  38.7003176       103  .375731239   Root MSE        =    .55841

-------------------------------------------------------------------------------------
            result1 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
loggdp1975percapita |  -.2737754   .0940804    -2.91   0.004    -.4604056   -.0871452
            hci1975 |   .7028936   .1535307     4.58   0.000     .3983299    1.007457
              _cons |   1.299738   .5925073     2.19   0.031     .1243628    2.475113
-------------------------------------------------------------------------------------

. 
. /* c.*/
. reg result loggdp1975percapita  gcf1975 hci1975

      Source |       SS           df       MS      Number of obs   =       104
-------------+----------------------------------   F(3, 100)       =      9.06
       Model |  8.27402029         3  2.75800676   Prob > F        =    0.0000
    Residual |  30.4262973       100  .304262973   R-squared       =    0.2138
-------------+----------------------------------   Adj R-squared   =    0.1902
       Total |  38.7003176       103  .375731239   Root MSE        =     .5516

-------------------------------------------------------------------------------------
            result1 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
loggdp1975percapita |  -.3519952   .1018823    -3.45   0.001    -.5541268   -.1498635
            gcf1975 |   1.015701    .542195     1.87   0.064    -.0599982    2.091401
            hci1975 |   .7384911   .1528442     4.83   0.000     .4352526     1.04173
              _cons |   1.656595    .615502     2.69   0.008     .4354566    2.877733
-------------------------------------------------------------------------------------

. test (gcf1975 == 0) (hci1975 == 0)

 ( 1)  gcf1975 = 0
 ( 2)  hci1975 = 0

       F(  2,   100) =   12.49
            Prob > F =    0.0000

. 
. 
. /*Q2-3*/
. clear all

. set seed 123456

. program reg1, rclass
  1. drop _all
  2. set obs 100
  3. gen X=runiform(0,1)
  4. gen U=rnormal(0,5)
  5. gen Y= -10 + 5*X + U
  6. reg Y X
  7. /*
> gen t_value= _b[X]/_se[X] - 5/_se[X]
> gen p_value= 2*ttail(98，t_value)
> */
. return scalar b1=_b[X]
  8. return scalar b0=_b[_cons]
  9. return scalar p_value= 2*ttail(98, abs(_b[X]/_se[X] - 5/_se[X]))
 10. end

. 
. simulate  reg1 p_value=r(p_value) b1=r(b1) b0=r(b0),reps(1000)

command:      reg1
statistics:   p_value    = r(p_value)
              b1         = r(b1)
              b0         = r(b0)

. sum p_value b1 b0

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     p_value |      1,000    .5072577    .2864259   .0001011   .9990631
          b1 |      1,000    5.114218    1.712932   .1414761   11.11117
          b0 |      1,000   -10.07301    .9718946  -12.79138  -7.294732

. 
. count if p_value < 0.05
  49

. 
. 
. clear all

. set seed 123456

. program reg2, rclass
  1. drop _all
  2. set obs 100
  3. gen X=runiform(0,1)
  4. gen U=rnormal(0,5)
  5. gen Y= -10 + 5*X + U
  6. reg Y X
  7. /*
> gen t_value= _b[X]/_se[X] - 5/_se[X]
> gen p_value= 2*ttail(98，t_value)
> */
. return scalar b1=_b[X]
  8. return scalar b0=_b[_cons]
  9. return scalar p_value= 2*ttail(98, abs(_b[X]/_se[X] - 4.5/_se[X]))
 10. end

. 
. simulate  reg2 p_value=r(p_value) b1=r(b1) b0=r(b0),reps(1000)

command:      reg2
statistics:   p_value    = r(p_value)
              b1         = r(b1)
              b0         = r(b0)

. sum p_value b1 b0

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     p_value |      1,000    .4914149    .2950307   .0000292   .9990672
          b1 |      1,000    5.114218    1.712932   .1414761   11.11117
          b0 |      1,000   -10.07301    .9718946  -12.79138  -7.294732

. 
. count if p_value <0.05
  65

. 
. 
. 
. clear all

. set seed 123456

. program reg3, rclass
  1. drop _all
  2. set obs 100
  3. gen X=runiform(0,1)
  4. gen U=rnormal(0,5)
  5. gen Y= -10 + 5*X + U
  6. reg Y X
  7. /*
> gen t_value= _b[X]/_se[X] - 5/_se[X]
> gen p_value= 2*ttail(98，t_value)
> */
. return scalar b1=_b[X]
  8. return scalar b0=_b[_cons]
  9. return scalar p_value= 2*ttail(98, abs(_b[X]/_se[X] - 0/_se[X]))
 10. end

. 
. simulate  reg3 p_value=r(p_value) b1=r(b1) b0=r(b0),reps(1000)

command:      reg3
statistics:   p_value    = r(p_value)
              b1         = r(b1)
              b0         = r(b0)

. sum p_value b1 b0

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     p_value |      1,000    .0367694    .0922712   5.45e-11   .9399751
          b1 |      1,000    5.114218    1.712932   .1414761   11.11117
          b0 |      1,000   -10.07301    .9718946  -12.79138  -7.294732

. 
. count if p_value <0.05
  829

. 
. 
. 
. 
. 
end of do-file

. exit, clear
